(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d213147"],{aac4:function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("Card",[o("p",{attrs:{slot:"title"},slot:"title"},[e._v("自动滚动    "),o("i-switch",{attrs:{size:"large"},model:{value:e.enableScroll,callback:function(t){e.enableScroll=t},expression:"enableScroll"}})],1),o("div",[o("log-viewer",{staticStyle:{"font-size":"medium",height:"70vh"},attrs:{log:e.log,loading:e.isLoading,autoScroll:e.enableScroll}})],1)])},s=[],i=o("f121"),c={name:"StatusIndex",data:function(){return{log:"",socket:"",isLoading:!0,messages:[],text:"手动",enableScroll:!0}},mounted:function(){this.init()},methods:{init:function(){var e=this;"undefined"===typeof WebSocket?alert("您的浏览器不支持socket"):(e.socket=new WebSocket(e.getWsAddr()),e.socket.onopen=e.open,e.socket.onerror=e.error,e.socket.onmessage=e.receive)},open:function(){console.log("socket连接成功")},error:function(){this.$Message.error("连接错误")},receive:function(e){var t=e.data;t=this.getDate()+" "+t,this.log=this.log+"\n"+t,this.messages.push(t)},send:function(e){this.socket.send(e)},close:function(){console.log("socket已经关闭")},getDate:function(){var e=new Date,t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate(),o=e.getHours()+":"+e.getMinutes()+":"+e.getSeconds();return t+" "+o},getWsAddr:function(){var e="",t=i["a"].wsHost.pro;return void 0!==t&&t.length>0&&(e=t),"v1"===e&&(e=window.location.host+"/v1"),"ws://"+e+"/task/status"}},destroyed:function(){this.socket.onclose=this.close}},l=c,r=o("2877"),a=Object(r["a"])(l,n,s,!1,null,"7cdede7b",null);t["default"]=a.exports}}]);